"use strict";(self.webpackChunkmy_primer_proy_angular=self.webpackChunkmy_primer_proy_angular||[]).push([[489],{489:(M,f,s)=>{s.r(f),s.d(f,{TarjetaListComponent:()=>S});var t=s(9212),p=s(6814),m=s(7890),v=s(6223),b=s(1699),w=s(3477),y=s(553);function T(a,d){if(1&a){const e=t.EpF();t.O4$(),t.kcU(),t.TgZ(0,"button",22),t.NdJ("click",function(){t.CHM(e);const r=t.oxw();return t.KtG(r.clearAllFilters())}),t.O4$(),t.TgZ(1,"svg",23),t._UZ(2,"path",24),t.qZA(),t._uU(3," Limpiar "),t.qZA()}}function Z(a,d){1&a&&(t.O4$(),t.kcU(),t.TgZ(0,"div",25),t._UZ(1,"div",26),t.qZA())}function C(a,d){if(1&a&&(t.O4$(),t.kcU(),t.TgZ(0,"div",27)(1,"div",28),t.O4$(),t.TgZ(2,"svg",29),t._UZ(3,"path",30),t.qZA(),t.kcU(),t.TgZ(4,"span"),t._uU(5),t.qZA()()()),2&a){const e=t.oxw();t.xp6(5),t.Oqu(e.error())}}function j(a,d){1&a&&(t.O4$(),t.kcU(),t.TgZ(0,"div",31),t.O4$(),t.TgZ(1,"svg",32),t._UZ(2,"path",33),t.qZA(),t.kcU(),t.TgZ(3,"p",34),t._uU(4,"No hay tarjetas digitales disponibles"),t.qZA(),t.TgZ(5,"p",35),t._uU(6,"Crea una nueva tarjeta para comenzar"),t.qZA()())}const k=a=>["/admin/tarjetas/detalle",a],A=a=>["/admin/tarjetas/editar",a];function U(a,d){if(1&a){const e=t.EpF();t.TgZ(0,"tr",46)(1,"td",47),t._uU(2),t.qZA(),t.TgZ(3,"td",48),t._UZ(4,"img",49),t.qZA(),t.TgZ(5,"td",50)(6,"div",51),t._uU(7),t.qZA(),t.TgZ(8,"div",52),t._uU(9),t.qZA(),t.TgZ(10,"div",53),t._uU(11),t.qZA()(),t.TgZ(12,"td",50)(13,"div",54),t._uU(14),t.qZA(),t.TgZ(15,"div",52),t._uU(16),t.qZA()(),t.TgZ(17,"td",55)(18,"div",56)(19,"div",57)(20,"label",58)(21,"input",59),t.NdJ("change",function(){const n=t.CHM(e).$implicit,o=t.oxw(2);return t.KtG(o.toggleStatusCard(n,"is_active"))}),t.qZA(),t._UZ(22,"div",60),t.qZA(),t.TgZ(23,"span",61),t._uU(24,"Activa"),t.qZA()(),t.TgZ(25,"div",57)(26,"label",58)(27,"input",59),t.NdJ("change",function(){const n=t.CHM(e).$implicit,o=t.oxw(2);return t.KtG(o.toggleStatusCard(n,"is_public"))}),t.qZA(),t._UZ(28,"div",62),t.qZA(),t.TgZ(29,"span",61),t._uU(30,"P\xfablica"),t.qZA()()()(),t.TgZ(31,"td",63),t._uU(32),t.qZA(),t.TgZ(33,"td",55)(34,"span",64),t._uU(35),t.qZA()(),t.TgZ(36,"td",65)(37,"div",66)(38,"a",67),t.O4$(),t.TgZ(39,"svg",68),t._UZ(40,"path",69)(41,"path",70),t.qZA()(),t.kcU(),t.TgZ(42,"a",71),t.O4$(),t.TgZ(43,"svg",68),t._UZ(44,"path",72),t.qZA()(),t.kcU(),t.TgZ(45,"button",73),t.NdJ("click",function(){const n=t.CHM(e).$implicit,o=t.oxw(2);return t.KtG(o.eliminarTarjeta(n.id))}),t.O4$(),t.TgZ(46,"svg",68),t._UZ(47,"path",74),t.qZA()()()()()}if(2&a){const e=d.$implicit,i=t.oxw(2);t.xp6(2),t.hij(" ",e.id," "),t.xp6(2),t.Q6J("src",i.obtenerUrlImagen(null==e.personal_info?null:e.personal_info.photo),t.LSH)("alt",(null==e.personal_info?null:e.personal_info.name)||"Tarjeta"),t.xp6(3),t.hij(" ",(null==e.personal_info?null:e.personal_info.name)||"Sin nombre"," "),t.xp6(2),t.hij(" ",(null==e.personal_info?null:e.personal_info.title)||"Sin t\xedtulo"," "),t.xp6(2),t.hij(" ",(null==e.personal_info?null:e.personal_info.location)||"Sin ubicaci\xf3n"," "),t.xp6(3),t.hij(" ",(null==e.contact_info?null:e.contact_info.email)||"Sin email"," "),t.xp6(2),t.hij(" ",(null==e.contact_info?null:e.contact_info.phone)||"Sin tel\xe9fono"," "),t.xp6(5),t.Q6J("checked",e.is_active),t.xp6(6),t.Q6J("checked",e.is_public),t.xp6(5),t.hij(" ",i.formatearFecha(e.created_at)," "),t.xp6(3),t.hij(" ",e.user_id||"N/A"," "),t.xp6(3),t.Q6J("routerLink",t.VKq(14,k,e.id)),t.xp6(4),t.Q6J("routerLink",t.VKq(16,A,e.id))}}function P(a,d){if(1&a){const e=t.EpF();t.TgZ(0,"div",75)(1,"div",76)(2,"button",77),t.NdJ("click",function(){t.CHM(e);const r=t.oxw(2);return t.KtG(r.cambiarPagina(r.currentPage()-1))}),t._uU(3," Anterior "),t.qZA(),t.TgZ(4,"button",78),t.NdJ("click",function(){t.CHM(e);const r=t.oxw(2);return t.KtG(r.cambiarPagina(r.currentPage()+1))}),t._uU(5," Siguiente "),t.qZA()(),t.TgZ(6,"div",79)(7,"div")(8,"p",80),t._uU(9," Mostrando "),t.TgZ(10,"span",81),t._uU(11),t.qZA(),t._uU(12," a "),t.TgZ(13,"span",81),t._uU(14),t.qZA(),t._uU(15," de "),t.TgZ(16,"span",81),t._uU(17),t.qZA(),t._uU(18," resultados "),t.qZA()(),t.TgZ(19,"div")(20,"nav",82)(21,"button",83),t.NdJ("click",function(){t.CHM(e);const r=t.oxw(2);return t.KtG(r.cambiarPagina(r.currentPage()-1))}),t.O4$(),t.TgZ(22,"svg",84),t._UZ(23,"path",85),t.qZA()(),t.kcU(),t.TgZ(24,"span",86),t._uU(25),t.qZA(),t.TgZ(26,"button",87),t.NdJ("click",function(){t.CHM(e);const r=t.oxw(2);return t.KtG(r.cambiarPagina(r.currentPage()+1))}),t.O4$(),t.TgZ(27,"svg",84),t._UZ(28,"path",88),t.qZA()()()()()()}if(2&a){const e=t.oxw(2);t.xp6(2),t.Q6J("disabled",e.currentPage()<=1),t.xp6(2),t.Q6J("disabled",e.currentPage()>=e.totalPages()),t.xp6(7),t.Oqu((e.currentPage()-1)*e.perPage()+1),t.xp6(3),t.Oqu(e.Math.min(e.currentPage()*e.perPage(),e.totalCards())),t.xp6(3),t.Oqu(e.totalCards()),t.xp6(4),t.Q6J("disabled",e.currentPage()<=1),t.xp6(4),t.AsE(" ",e.currentPage()," de ",e.totalPages()," "),t.xp6(1),t.Q6J("disabled",e.currentPage()>=e.totalPages())}}function O(a,d){if(1&a&&(t.O4$(),t.kcU(),t.TgZ(0,"div",36)(1,"div",37)(2,"table",38)(3,"thead",39)(4,"tr")(5,"th",40),t._uU(6," ID "),t.qZA(),t.TgZ(7,"th",40),t._uU(8," Foto "),t.qZA(),t.TgZ(9,"th",40),t._uU(10," Informaci\xf3n Personal "),t.qZA(),t.TgZ(11,"th",40),t._uU(12," Contacto "),t.qZA(),t.TgZ(13,"th",41),t._uU(14," Estado "),t.qZA(),t.TgZ(15,"th",40),t._uU(16," Fecha "),t.qZA(),t.TgZ(17,"th",41),t._uU(18," ID_USER "),t.qZA(),t.TgZ(19,"th",42),t._uU(20," Acciones "),t.qZA()()(),t.TgZ(21,"tbody",43),t.YNc(22,U,48,18,"tr",44),t.qZA()()(),t.YNc(23,P,29,9,"div",45),t.qZA()),2&a){const e=t.oxw();t.xp6(22),t.Q6J("ngForOf",e.digitalCards()),t.xp6(1),t.Q6J("ngIf",e.totalPages()>1)}}let S=(()=>{class a{constructor(){this.digitalCardsService=(0,t.f3M)(b.$),this.notificationService=(0,t.f3M)(w.g),this.digitalCards=(0,t.tdS)([]),this.isLoading=(0,t.tdS)(!0),this.error=(0,t.tdS)(null),this.searchTerm=(0,t.tdS)(""),this.userIdFilter=(0,t.tdS)(""),this.currentPage=(0,t.tdS)(1),this.perPage=(0,t.tdS)(10),this.totalCards=(0,t.tdS)(0),this.totalPages=(0,t.tdS)(0),this.statusFilter=(0,t.tdS)("all"),this.visibilityFilter=(0,t.tdS)("all"),this.sortBy=(0,t.tdS)("created_at"),this.sortOrder=(0,t.tdS)("desc"),this.showAdvancedFilters=(0,t.tdS)(!1),this.Math=Math}ngOnInit(){this.cargarTarjetas()}cargarTarjetas(){this.isLoading.set(!0),this.error.set(null);const e={page:this.currentPage(),per_page:this.perPage(),search:this.searchTerm()||void 0,user_id:this.userIdFilter()||void 0,status:"all"!==this.statusFilter()?this.statusFilter():void 0,visibility:"all"!==this.visibilityFilter()?this.visibilityFilter():void 0,sort_by:this.sortBy(),sort_order:this.sortOrder()};console.log("[DEBUG] Params enviados al API:",e),console.log("[DEBUG] UserIdFilter value:",this.userIdFilter()),this.digitalCardsService.getDigitalCards(e).subscribe({next:i=>{this.digitalCards.set(i.data),this.totalCards.set(i.meta.total),this.totalPages.set(i.meta.last_page),this.isLoading.set(!1)},error:i=>{console.error("Error al cargar tarjetas digitales",i),this.notificationService.handleApiError(i,"cargar tarjetas"),this.error.set("No se pudieron cargar las tarjetas digitales. Por favor, int\xe9ntelo de nuevo."),this.isLoading.set(!1)}})}onSearch(){this.currentPage.set(1),this.cargarTarjetas()}onUserIdSearch(){this.currentPage.set(1),this.cargarTarjetas()}cambiarPagina(e){this.currentPage.set(e),this.cargarTarjetas()}toggleStatusCard(e,i){const r=!e[i],n={[i]:r},o=e.personal_info?.name||`Tarjeta #${e.id}`,h="is_active"===i?"estado activo":"visibilidad p\xfablica",g=r?"activando":"desactivando";this.digitalCards.update(l=>l.map(c=>c.id===e.id?{...c,[i]:r}:c));const _=this.notificationService.info(`${g.charAt(0).toUpperCase()+g.slice(1)}...`,`${g.charAt(0).toUpperCase()+g.slice(1)} ${h} de "${o}"`);this.digitalCardsService.toggleStatus(e.id,n).subscribe({next:l=>{this.notificationService.remove(_),this.digitalCards.update(u=>u.map(x=>x.id===l.data.id?l.data:x)),this.notificationService.success("Estado actualizado",`El ${h} de "${o}" ha sido ${l.data[i]?"activado":"desactivado"}.`)},error:l=>{this.notificationService.remove(_),this.digitalCards.update(c=>c.map(u=>u.id===e.id?{...u,[i]:!r}:u)),console.error(`Error al cambiar ${i} de la tarjeta`,l),this.notificationService.handleApiError(l,`cambiar ${h}`)}})}eliminarTarjeta(e){const r=this.digitalCards().find(n=>n.id===e)?.personal_info?.name||`Tarjeta #${e}`;this.notificationService.withActions("warning",`\xbfEliminar "${r}"?`,"Esta acci\xf3n eliminar\xe1 permanentemente la tarjeta digital y no se puede deshacer. Tambi\xe9n se eliminar\xe1n todas las im\xe1genes asociadas.",[{label:"Cancelar",action:()=>{this.notificationService.info("Operaci\xf3n cancelada","La tarjeta no ha sido eliminada.")},style:"secondary"},{label:"Eliminar definitivamente",action:()=>{this.confirmarEliminacionFinal(e,r)},style:"primary"}])}confirmarEliminacionFinal(e,i){const r=this.notificationService.showLoadingWithProgress("Eliminando tarjeta","Eliminando tarjeta digital y archivos asociados...");this.digitalCardsService.deleteDigitalCard(e).subscribe({next:()=>{this.notificationService.remove(r),this.digitalCards.update(n=>n.filter(o=>o.id!==e)),this.totalCards.update(n=>n-1),this.notificationService.cardDeleted(i)},error:n=>{this.notificationService.remove(r),console.error("Error al eliminar la tarjeta",n),this.notificationService.handleApiError(n,"eliminar la tarjeta")}})}obtenerUrlImagen(e){return e?e.startsWith("http")?e:`${y.N.urlDominioApi}/${e}`:"/assets/images/default-avatar.png"}formatearFecha(e){return new Date(e).toLocaleDateString("es-ES",{year:"numeric",month:"short",day:"numeric"})}toggleAdvancedFilters(){this.showAdvancedFilters.set(!this.showAdvancedFilters())}applyFilters(){this.currentPage.set(1),this.cargarTarjetas()}clearFilters(){this.statusFilter.set("all"),this.visibilityFilter.set("all"),this.sortBy.set("created_at"),this.sortOrder.set("desc"),this.searchTerm.set(""),this.currentPage.set(1),this.cargarTarjetas()}clearAllFilters(){this.statusFilter.set("all"),this.visibilityFilter.set("all"),this.sortBy.set("created_at"),this.sortOrder.set("desc"),this.searchTerm.set(""),this.userIdFilter.set(""),this.currentPage.set(1),this.cargarTarjetas()}setSortBy(e){this.sortBy()===e?this.sortOrder.set("asc"===this.sortOrder()?"desc":"asc"):(this.sortBy.set(e),this.sortOrder.set("desc")),this.currentPage.set(1),this.cargarTarjetas()}getSortIcon(e){return this.sortBy()!==e?"sort":"asc"===this.sortOrder()?"sort-asc":"sort-desc"}duplicarTarjeta(e){const i=this.digitalCards().find(n=>n.id===e);if(!i)return;const r=i.personal_info?.name||`Tarjeta #${e}`;this.notificationService.withActions("info",`\xbfDuplicar "${r}"?`,"Se crear\xe1 una copia exacta de esta tarjeta digital con todos sus datos. Podr\xe1s editarla despu\xe9s.",[{label:"Cancelar",action:()=>{},style:"secondary"},{label:"Duplicar tarjeta",action:()=>{this.confirmarDuplicacion(i,r)},style:"primary"}])}confirmarDuplicacion(e,i){const r=this.notificationService.showLoadingWithProgress("Duplicando tarjeta",`Creando copia de "${i}"...`),n={personalInfo:{...e.personal_info,name:`${e.personal_info?.name||"Tarjeta"} (Copia)`},contact:e.contact_info,about:e.about_info,is_active:!1,is_public:!1};this.digitalCardsService.createDigitalCard(n).subscribe({next:o=>{this.notificationService.remove(r),this.notificationService.success("Tarjeta duplicada",`Se ha creado una copia de "${i}" exitosamente.`),this.cargarTarjetas()},error:o=>{this.notificationService.remove(r),console.error("Error al duplicar tarjeta:",o),this.notificationService.handleApiError(o,"duplicar la tarjeta")}})}isNumeric(e){return!isNaN(Number(e))&&""!==e.trim()}static#t=this.\u0275fac=function(i){return new(i||a)};static#e=this.\u0275cmp=t.Xpm({type:a,selectors:[["app-tarjeta-list"]],standalone:!0,features:[t.jDz],decls:24,vars:7,consts:[[1,"container","px-4","py-6"],[1,"mb-6"],[1,"flex","justify-between","items-center"],[1,"text-2xl","font-bold","text-gray-800"],["routerLink","/admin/tarjetas/crear",1,"bg-blue-600","hover:bg-blue-700","text-white","font-medium","py-2","px-4","rounded-md","flex","items-center"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-5","w-5","mr-2"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 4v16m8-8H4"],[1,"mt-4"],[1,"flex","gap-4","flex-wrap"],[1,"relative","flex-1","min-w-80"],["type","text","placeholder","Buscar tarjetas por nombre...",1,"w-full","pl-10","pr-4","py-2","border","border-gray-300","rounded-md","focus:ring-2","focus:ring-blue-500","focus:border-transparent",3,"value","input"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"absolute","left-3","top-3","h-4","w-4","text-gray-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"],[1,"relative","w-60"],["type","number","placeholder","Filtrar por ID de usuario","min","1",1,"w-full","pl-10","pr-4","py-2","border","border-purple-300","rounded-md","focus:ring-2","focus:ring-purple-500","focus:border-transparent",3,"value","input"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"absolute","left-3","top-3","h-4","w-4","text-purple-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"],["class","px-4 py-2 bg-gray-200 text-gray-700 rounded-md hover:bg-gray-300 transition-colors flex items-center","title","Limpiar todos los filtros",3,"click",4,"ngIf"],["class","flex justify-center items-center py-12",4,"ngIf"],["class","bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",4,"ngIf"],["class","bg-yellow-50 border border-yellow-200 text-yellow-800 px-4 py-8 rounded-md flex flex-col items-center justify-center",4,"ngIf"],["class","bg-white shadow-md rounded-lg overflow-hidden",4,"ngIf"],["title","Limpiar todos los filtros",1,"px-4","py-2","bg-gray-200","text-gray-700","rounded-md","hover:bg-gray-300","transition-colors","flex","items-center",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","mr-2"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M6 18L18 6M6 6l12 12"],[1,"flex","justify-center","items-center","py-12"],[1,"animate-spin","rounded-full","h-12","w-12","border-t-2","border-b-2","border-blue-500"],[1,"bg-red-100","border","border-red-400","text-red-700","px-4","py-3","rounded","mb-4"],[1,"flex"],["fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-6","w-6","text-red-500","mr-3"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"bg-yellow-50","border","border-yellow-200","text-yellow-800","px-4","py-8","rounded-md","flex","flex-col","items-center","justify-center"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-12","w-12","text-yellow-400","mb-4"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z"],[1,"text-lg","font-medium"],[1,"text-sm","text-gray-600","mt-1"],[1,"bg-white","shadow-md","rounded-lg","overflow-hidden"],[1,"overflow-x-auto"],[1,"min-w-full","divide-y","divide-gray-200"],[1,"bg-gray-50"],["scope","col",1,"px-6","py-3","text-left","text-xs","font-medium","text-gray-500","uppercase","tracking-wider"],["scope","col",1,"px-6","py-3","text-center","text-xs","font-medium","text-gray-500","uppercase","tracking-wider"],["scope","col",1,"px-6","py-3","text-right","text-xs","font-medium","text-gray-500","uppercase","tracking-wider"],[1,"bg-white","divide-y","divide-gray-200"],["class","hover:bg-gray-50",4,"ngFor","ngForOf"],["class","bg-white px-6 py-3 flex items-center justify-between border-t border-gray-200",4,"ngIf"],[1,"hover:bg-gray-50"],[1,"px-6","py-4","whitespace-nowrap","text-sm","font-medium","text-gray-900"],[1,"px-6","py-4","whitespace-nowrap"],[1,"h-12","w-12","rounded-full","object-cover","border-2","border-gray-200",3,"src","alt"],[1,"px-6","py-4"],[1,"text-sm","font-medium","text-gray-900"],[1,"text-sm","text-gray-500"],[1,"text-xs","text-gray-400"],[1,"text-sm","text-gray-900"],[1,"px-6","py-4","whitespace-nowrap","text-center"],[1,"flex","flex-col","space-y-2"],[1,"flex","items-center","justify-center"],[1,"inline-flex","items-center","cursor-pointer"],["type","checkbox",1,"sr-only","peer",3,"checked","change"],[1,"relative","w-9","h-5","bg-gray-200","peer-focus:outline-none","peer-focus:ring-2","peer-focus:ring-blue-300","rounded-full","peer","peer-checked:after:translate-x-full","peer-checked:after:border-white","after:content-['']","after:absolute","after:top-[2px]","after:start-[2px]","after:bg-white","after:border-gray-300","after:border","after:rounded-full","after:h-4","after:w-4","after:transition-all","peer-checked:bg-green-600"],[1,"text-xs","text-gray-500","ml-2"],[1,"relative","w-9","h-5","bg-gray-200","peer-focus:outline-none","peer-focus:ring-2","peer-focus:ring-blue-300","rounded-full","peer","peer-checked:after:translate-x-full","peer-checked:after:border-white","after:content-['']","after:absolute","after:top-[2px]","after:start-[2px]","after:bg-white","after:border-gray-300","after:border","after:rounded-full","after:h-4","after:w-4","after:transition-all","peer-checked:bg-blue-600"],[1,"px-6","py-4","whitespace-nowrap","text-sm","text-gray-500"],[1,"inline-flex","items-center","px-2.5","py-0.5","rounded-full","text-xs","font-medium","bg-blue-100","text-blue-800"],[1,"px-6","py-4","whitespace-nowrap","text-right","text-sm","font-medium"],[1,"flex","justify-end","space-x-2"],["title","Ver detalle",1,"text-blue-600","hover:text-blue-900","p-1","rounded-full","hover:bg-blue-100",3,"routerLink"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-5","w-5"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15 12a3 3 0 11-6 0 3 3 0 016 0z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"],["title","Editar",1,"text-indigo-600","hover:text-indigo-900","p-1","rounded-full","hover:bg-indigo-100",3,"routerLink"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"],["title","Eliminar",1,"text-red-600","hover:text-red-900","p-1","rounded-full","hover:bg-red-100",3,"click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"],[1,"bg-white","px-6","py-3","flex","items-center","justify-between","border-t","border-gray-200"],[1,"flex-1","flex","justify-between","sm:hidden"],[1,"relative","inline-flex","items-center","px-4","py-2","border","border-gray-300","text-sm","font-medium","rounded-md","text-gray-700","bg-white","hover:bg-gray-50","disabled:opacity-50","disabled:cursor-not-allowed",3,"disabled","click"],[1,"ml-3","relative","inline-flex","items-center","px-4","py-2","border","border-gray-300","text-sm","font-medium","rounded-md","text-gray-700","bg-white","hover:bg-gray-50","disabled:opacity-50","disabled:cursor-not-allowed",3,"disabled","click"],[1,"hidden","sm:flex-1","sm:flex","sm:items-center","sm:justify-between"],[1,"text-sm","text-gray-700"],[1,"font-medium"],[1,"relative","z-0","inline-flex","rounded-md","shadow-sm","-space-x-px"],[1,"relative","inline-flex","items-center","px-2","py-2","rounded-l-md","border","border-gray-300","bg-white","text-sm","font-medium","text-gray-500","hover:bg-gray-50","disabled:opacity-50","disabled:cursor-not-allowed",3,"disabled","click"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 20 20","fill","currentColor",1,"h-5","w-5"],["fill-rule","evenodd","d","M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z","clip-rule","evenodd"],[1,"relative","inline-flex","items-center","px-4","py-2","border","border-gray-300","bg-white","text-sm","font-medium","text-gray-700"],[1,"relative","inline-flex","items-center","px-2","py-2","rounded-r-md","border","border-gray-300","bg-white","text-sm","font-medium","text-gray-500","hover:bg-gray-50","disabled:opacity-50","disabled:cursor-not-allowed",3,"disabled","click"],["fill-rule","evenodd","d","M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z","clip-rule","evenodd"]],template:function(i,r){1&i&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),t._uU(4," Gesti\xf3n de Tarjetas Digitales "),t.qZA(),t.TgZ(5,"a",4),t.O4$(),t.TgZ(6,"svg",5),t._UZ(7,"path",6),t.qZA(),t._uU(8," Nueva Tarjeta "),t.qZA()(),t.kcU(),t.TgZ(9,"div",7)(10,"div",8)(11,"div",9)(12,"input",10),t.NdJ("input",function(o){return r.searchTerm.set(o.target.value),r.onSearch()}),t.qZA(),t.O4$(),t.TgZ(13,"svg",11),t._UZ(14,"path",12),t.qZA()(),t.kcU(),t.TgZ(15,"div",13)(16,"input",14),t.NdJ("input",function(o){return r.userIdFilter.set(o.target.value),r.onUserIdSearch()}),t.qZA(),t.O4$(),t.TgZ(17,"svg",15),t._UZ(18,"path",16),t.qZA()(),t.YNc(19,T,4,0,"button",17),t.qZA()()(),t.YNc(20,Z,2,0,"div",18)(21,C,6,1,"div",19)(22,j,7,0,"div",20)(23,O,24,2,"div",21),t.qZA()),2&i&&(t.xp6(12),t.Q6J("value",r.searchTerm()),t.xp6(4),t.Q6J("value",r.userIdFilter()),t.xp6(3),t.Q6J("ngIf",r.searchTerm()||r.userIdFilter()),t.xp6(1),t.Q6J("ngIf",r.isLoading()),t.xp6(1),t.Q6J("ngIf",r.error()),t.xp6(1),t.Q6J("ngIf",!r.isLoading()&&!r.error()&&0===r.digitalCards().length),t.xp6(1),t.Q6J("ngIf",!r.isLoading()&&!r.error()&&r.digitalCards().length>0))},dependencies:[p.ez,p.sg,p.O5,m.Bz,m.rH,v.u5],styles:[".peer[_ngcontent-%COMP%]:focus ~ div[_ngcontent-%COMP%]{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000);--tw-ring-color: rgb(164 202 254 / var(--tw-ring-opacity));--tw-ring-opacity: .5}.hover\\:bg-gray-50[_ngcontent-%COMP%]:hover{transition:background-color .2s ease-in-out}@media (max-width: 640px){.table-container[_ngcontent-%COMP%]{overflow-x:auto;-webkit-overflow-scrolling:touch}.table-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{min-width:800px}}.animate-spin[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.rounded-full[_ngcontent-%COMP%]{border-radius:50%}.action-button[_ngcontent-%COMP%]{transition:all .2s ease-in-out}.action-button[_ngcontent-%COMP%]:hover{transform:scale(1.1)}.input-search[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 3px #3b82f61a}@media (max-width: 768px){.container[_ngcontent-%COMP%]{padding-left:1rem;padding-right:1rem}.flex[_ngcontent-%COMP%]{flex-direction:column;gap:1rem}.justify-between[_ngcontent-%COMP%]{justify-content:center}}"]})}return a})()}}]);